# My Robot Controller

This repository contains a **very simple ROS 2** package named **`my_robot_controller`**, showing how to create, build, and run a basic ROS 2 package using **ROS 2 Humble** and **colcon**. Files like `package.xml` and `setup.py` follow the standard ROS 2 conventions and libraries.

---

## Table of Contents

1. [Overview](#overview)  
2. [Prerequisites](#prerequisites)  
3. [Step-by-Step Guide](#step-by-step-guide)  
   - [Create a ROS 2 Workspace](#create-a-ros-2-workspace)  
   - [Create a New Package](#create-a-new-package)  
   - [Understand the Project Structure](#understand-the-project-structure)  
   - [Configure `package.xml`](#configure-packagexml)  
   - [Configure `setup.py`](#configure-setuppy)  
   - [Add Your Python Nodes](#add-your-python-nodes)  
   - [Build the Package](#build-the-package)  
   - [Source Your Workspace](#source-your-workspace)  
4. [Usage](#usage)  
   - [Running the Talker](#running-the-talker)  
   - [Running the Listener](#running-the-listener)  
   - [Running the Custom Node](#running-the-custom-node)  
5. [License](#license)  
6. [Additional Resources](#additional-resources)

---

## Overview

**`my_robot_controller`** is a minimal example package to help you get started with ROS 2 in Python. It features:
- A **talker** node (`talker.py`) that publishes string messages  
- A **listener** node (`listener.py`) that subscribes to those messages  
- A **custom node** (`my_first_node.py`) that you can modify for experiments

---

## Prerequisites

- **ROS 2 Humble** installed  
- **Python 3**  
- **colcon** (the recommended build tool for ROS 2)  

You should also be comfortable with:
- Basic command-line operations  
- (Optionally) Git for version control

---

## Step-by-Step Guide

### Create a ROS 2 Workspace

1. Create a directory to hold your workspace:

   ```bash
   mkdir -p ~/ros2_ws/src
   cd ~/ros2_ws
   ```

2. The `src` folder is where you will place all your ROS 2 packages.

---

### Create a New Package

Inside your `src` directory:

```bash
cd ~/ros2_ws/src
ros2 pkg create --build-type ament_python my_robot_controller
```

This automatically generates:
- `package.xml` with boilerplate metadata  
- `setup.py` with default Python build logic  
- A folder named `my_robot_controller` (the Python module) containing `__init__.py`

---

### Understand the Project Structure

When generated by `ros2 pkg create`, you might see something like:

```
my_robot_controller/
├── package.xml
├── setup.py
├── resource/
│   └── my_robot_controller
├── my_robot_controller
│   └── __init__.py
└── test/
    └── ...
```

You will add your custom Python node scripts (e.g., `talker.py`, `listener.py`, `my_first_node.py`) inside the **`my_robot_controller/`** folder.

---

### Configure `package.xml`

Open **`my_robot_controller/package.xml`**. A typical boilerplate looks like:

```xml
<package format="3">
  <name>my_robot_controller</name>
  <version>0.0.0</version>
  <description>TODO: Package description</description>
  <maintainer email="your_email@example.com">Your Name</maintainer>
  <license>TODO: License declaration</license>

  <buildtool_depend>ament_cmake</buildtool_depend>
  <build_depend>ament_python</build_depend>
  <exec_depend>ament_python</exec_depend>
  
  <!-- Add other dependencies here -->
  <depend>rclpy</depend>
  <depend>std_msgs</depend>

  <export>
    <build_type>ament_python</build_type>
  </export>
</package>
```

**Key Points:**
- `<depend>rclpy</depend>` is required for ROS 2’s Python client library.  
- `<depend>std_msgs</depend>` is for standard message definitions.  
- Fill in the `<maintainer>` and `<license>` tags with appropriate values.

---

### Configure `setup.py`

The **`setup.py`** file in **`my_robot_controller/`** tells Python and colcon how to install and handle the package:

```python
from setuptools import setup

package_name = 'my_robot_controller'

setup(
    name=package_name,
    version='0.0.0',
    packages=[package_name],
    data_files=[
        ('share/' + package_name, ['package.xml']),
    ],
    install_requires=['setuptools'],
    zip_safe=True,
    maintainer='Your Name',
    maintainer_email='your_email@example.com',
    description='A basic ROS 2 Python package',
    license='License declaration',
    tests_require=['pytest'],
    entry_points={
        'console_scripts': [
            'talker = my_robot_controller.talker:main',
            'listener = my_robot_controller.listener:main',
            'my_first_node = my_robot_controller.my_first_node:main',
        ],
    },
)
```

**Key Points:**
- `packages=[package_name]`: Tells setup to treat `my_robot_controller/` as a Python module.  
- `entry_points`: Allows commands like `ros2 run my_robot_controller talker`.

---

### Add Your Python Nodes

Inside **`my_robot_controller/my_robot_controller/`**, create:

- `talker.py` (publishes messages)  
- `listener.py` (subscribes and prints messages)  
- `my_first_node.py` (a template node)  

An example `talker.py` might look like:

```python
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class TalkerNode(Node):
    def __init__(self):
        super().__init__('talker_node')
        self.publisher_ = self.create_publisher(String, 'chatter', 10)
        self.timer = self.create_timer(1.0, self.timer_callback)

    def timer_callback(self):
        msg = String()
        msg.data = 'Hello, ROS 2!'
        self.publisher_.publish(msg)
        self.get_logger().info(f'Publishing: "{msg.data}"')

def main(args=None):
    rclpy.init(args=args)
    node = TalkerNode()
    rclpy.spin(node)
    node.destroy_node()
    rclpy.shutdown()
```

Make sure the `entry_points` in `setup.py` points to `talker:main`.

---

### Build the Package

Back in the **root** of your workspace:

```bash
cd ~/ros2_ws
colcon build
```

Or to see code changes without a full rebuild:

```bash
colcon build --symlink-install
```

---

### Source Your Workspace

Once the build is complete:

```bash
source install/setup.bash
```

Repeat this step in **every** new terminal before running ROS 2 nodes.

---

## Usage

### Running the Talker

Open a terminal (with your workspace sourced) and run:

```bash
ros2 run my_robot_controller talker
```

### Running the Listener

Open another sourced terminal:

```bash
ros2 run my_robot_controller listener
```

### Running the Custom Node

For **`my_first_node.py`**, run:

```bash
ros2 run my_robot_controller my_first_node
```

Feel free to modify `my_first_node.py` to explore ROS 2 features such as publishers, subscribers, services, and parameters.

---

## License

MIT
- [MIT License](LICENSE)  

---

## Additional Resources

- [ROS 2 Documentation](https://docs.ros.org/en/humble/index.html)  
- [colcon Documentation](https://colcon.readthedocs.io/en/released/)  
- [rclpy API Reference](https://docs.ros2.org/humble/api/rclpy/)  

Enjoy developing with ROS 2!